# ì§€ì†ì  í•™ìŠµ ì‹¤í–‰ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025-10-23
**ëª©ì **: í„°ë¯¸ë„ ì¢…ë£Œ í›„ì—ë„ í•™ìŠµì´ ê³„ì† ì§„í–‰ë˜ë„ë¡ ì„¤ì •

---

## ğŸ“‹ ê°œìš”

í•™ìŠµì´ ì¥ì‹œê°„ ì†Œìš”ë  ë•Œ, í„°ë¯¸ë„ì„ ì¢…ë£Œí•˜ê±°ë‚˜ SSH ì—°ê²°ì´ ëŠì–´ì ¸ë„ í•™ìŠµì´ ê³„ì† ì§„í–‰ë˜ë„ë¡ í•˜ëŠ” ë°©ë²•ë“¤ì„ ì†Œê°œí•©ë‹ˆë‹¤.

---

## ğŸ”§ ë°©ë²• 1: nohup ì‚¬ìš© (ì¶”ì²œ) â­

### ê°œìš”
- **ì¥ì **: ê°€ì¥ ê°„ë‹¨í•˜ê³  ë²”ìš©ì 
- **ì‘ë™ ì›ë¦¬**: í„°ë¯¸ë„ ì¢…ë£Œ ì‹ í˜¸(SIGHUP)ë¥¼ ë¬´ì‹œí•˜ê³  ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
- **ë¡œê·¸**: íŒŒì¼ë¡œ ìë™ ì €ì¥

### ì‚¬ìš©ë²•

#### Bash / Git Bash (Windows)
```bash
# ê¸°ë³¸ ì‚¬ìš©ë²•
nohup python scripts/train.py \
    --data "E:/namwon_ai/dataset_silage_bale_rgb/dataset.yaml" \
    --model n \
    --epochs 150 \
    --batch 8 \
    --imgsz 1024 \
    --lr0 0.001 \
    --optimizer AdamW \
    --patience 100 \
    --name silage_optimized \
    > logs/train.log 2>&1 &

# í”„ë¡œì„¸ìŠ¤ ID í™•ì¸ (ë§ˆì§€ë§‰ ì¤„ì— í‘œì‹œë¨)
# ì˜ˆ: [1] 12345

# ì§„í–‰ ìƒí™© í™•ì¸
tail -f logs/train.log

# í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep train.py

# ì¤‘ë‹¨
kill 12345
# ë˜ëŠ”
pkill -f train.py
```

#### í—¬í¼ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ë” í¸ë¦¬í•¨)
```bash
# Linux/Mac/Git Bash
bash scripts/run_training_persistent.sh

# Windows CMD
scripts\run_training_persistent.bat
```

---

## ğŸ”§ ë°©ë²• 2: screen ì‚¬ìš© (ì„¸ì…˜ ê´€ë¦¬)

### ê°œìš”
- **ì¥ì **: ì„¸ì…˜ì„ ê´€ë¦¬í•˜ê³  ì–¸ì œë“  ë‹¤ì‹œ ì ‘ì† ê°€ëŠ¥
- **ì‘ë™ ì›ë¦¬**: ê°€ìƒ í„°ë¯¸ë„ ì„¸ì…˜ ìƒì„±
- **ì¶”ì²œ ëŒ€ìƒ**: SSH ì‚¬ìš©ì, ì—¬ëŸ¬ ì‘ì—… ë™ì‹œ ê´€ë¦¬

### ì„¤ì¹˜

```bash
# Ubuntu/Debian
sudo apt-get install screen

# CentOS/RHEL
sudo yum install screen

# macOS (ë³´í†µ ê¸°ë³¸ ì„¤ì¹˜ë¨)
brew install screen

# Windows Git Bash (ì§€ì› ì•ˆë¨ - WSL ì‚¬ìš© ê¶Œì¥)
```

### ì‚¬ìš©ë²•

```bash
# 1. ìƒˆ screen ì„¸ì…˜ ìƒì„±
screen -S yolo_training

# 2. í•™ìŠµ ì‹¤í–‰
python scripts/train.py \
    --data "E:/namwon_ai/dataset_silage_bale_rgb/dataset.yaml" \
    --model n \
    --epochs 150 \
    --batch 8 \
    --imgsz 1024 \
    --lr0 0.001 \
    --optimizer AdamW \
    --patience 100 \
    --name silage_optimized

# 3. ì„¸ì…˜ì—ì„œ detach (í•™ìŠµì€ ê³„ì† ì§„í–‰)
# Ctrl+A, D ëˆ„ë¥´ê¸°

# 4. ì„¸ì…˜ ëª©ë¡ í™•ì¸
screen -ls
# ì¶œë ¥ ì˜ˆ:
# There is a screen on:
#     12345.yolo_training  (Detached)

# 5. ì„¸ì…˜ì— ë‹¤ì‹œ ì ‘ì†
screen -r yolo_training

# 6. ì„¸ì…˜ ì¢…ë£Œ (í•™ìŠµë„ ì¤‘ë‹¨)
# ì„¸ì…˜ ì•ˆì—ì„œ
exit
# ë˜ëŠ” Ctrl+D

# 7. ì„¸ì…˜ ê°•ì œ ì¢…ë£Œ (ì™¸ë¶€ì—ì„œ)
screen -X -S yolo_training quit
```

### ìœ ìš©í•œ ë‹¨ì¶•í‚¤

| í‚¤ ì¡°í•© | ê¸°ëŠ¥ |
|---------|------|
| `Ctrl+A, D` | Detach (ì„¸ì…˜ ìœ ì§€í•˜ë©° ë¹ ì ¸ë‚˜ì˜´) |
| `Ctrl+A, K` | ì„¸ì…˜ ì¢…ë£Œ (í™•ì¸ í›„) |
| `Ctrl+A, [` | ìŠ¤í¬ë¡¤ ëª¨ë“œ (që¡œ ì¢…ë£Œ) |
| `Ctrl+A, C` | ìƒˆ ìœˆë„ìš° ìƒì„± |
| `Ctrl+A, N` | ë‹¤ìŒ ìœˆë„ìš° |
| `Ctrl+A, P` | ì´ì „ ìœˆë„ìš° |

---

## ğŸ”§ ë°©ë²• 3: tmux ì‚¬ìš© (ê³ ê¸‰ ì„¸ì…˜ ê´€ë¦¬)

### ê°œìš”
- **ì¥ì **: screenë³´ë‹¤ ê°•ë ¥í•˜ê³  í˜„ëŒ€ì 
- **ì‘ë™ ì›ë¦¬**: í„°ë¯¸ë„ ë©€í‹°í”Œë ‰ì„œ
- **ì¶”ì²œ ëŒ€ìƒ**: ì—¬ëŸ¬ ì°½ì„ ë™ì‹œì— ê´€ë¦¬

### ì„¤ì¹˜

```bash
# Ubuntu/Debian
sudo apt-get install tmux

# CentOS/RHEL
sudo yum install tmux

# macOS
brew install tmux

# Windows Git Bash (ì§€ì› ì•ˆë¨ - WSL ì‚¬ìš© ê¶Œì¥)
```

### ì‚¬ìš©ë²•

```bash
# 1. ìƒˆ tmux ì„¸ì…˜ ìƒì„±
tmux new -s yolo_training

# 2. í•™ìŠµ ì‹¤í–‰
python scripts/train.py \
    --data "E:/namwon_ai/dataset_silage_bale_rgb/dataset.yaml" \
    --model n \
    --epochs 150 \
    --batch 8 \
    --imgsz 1024 \
    --lr0 0.001 \
    --optimizer AdamW \
    --patience 100 \
    --name silage_optimized

# 3. ì„¸ì…˜ì—ì„œ detach
# Ctrl+B, D

# 4. ì„¸ì…˜ ëª©ë¡ í™•ì¸
tmux ls
# ì¶œë ¥ ì˜ˆ:
# yolo_training: 1 windows (created Mon Oct 23 14:30:00 2023)

# 5. ì„¸ì…˜ì— ë‹¤ì‹œ ì ‘ì†
tmux attach -t yolo_training

# 6. ì„¸ì…˜ ì¢…ë£Œ
# ì„¸ì…˜ ì•ˆì—ì„œ
exit
# ë˜ëŠ” Ctrl+D

# 7. ì„¸ì…˜ ê°•ì œ ì¢…ë£Œ (ì™¸ë¶€ì—ì„œ)
tmux kill-session -t yolo_training
```

### ìœ ìš©í•œ ë‹¨ì¶•í‚¤

| í‚¤ ì¡°í•© | ê¸°ëŠ¥ |
|---------|------|
| `Ctrl+B, D` | Detach |
| `Ctrl+B, C` | ìƒˆ ì°½ ìƒì„± |
| `Ctrl+B, N` | ë‹¤ìŒ ì°½ |
| `Ctrl+B, P` | ì´ì „ ì°½ |
| `Ctrl+B, %` | ìˆ˜í‰ ë¶„í•  |
| `Ctrl+B, "` | ìˆ˜ì§ ë¶„í•  |
| `Ctrl+B, â†‘â†“â†â†’` | íŒ¨ë„ ì´ë™ |

---

## ğŸ”§ ë°©ë²• 4: Windows ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ (Windows ì „ìš©)

### ê°œìš”
- **ì¥ì **: Windows ì¬ë¶€íŒ… í›„ì—ë„ ìë™ ì‹¤í–‰ ê°€ëŠ¥
- **ì‘ë™ ì›ë¦¬**: Windows ì„œë¹„ìŠ¤ë¡œ ë“±ë¡
- **ì¶”ì²œ ëŒ€ìƒ**: Windows ì„œë²„ ì‚¬ìš©ì

### ì‚¬ìš©ë²•

1. **ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ì—´ê¸°**
   ```
   ì‹œì‘ ë©”ë‰´ â†’ "ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬" ê²€ìƒ‰
   ```

2. **ê¸°ë³¸ ì‘ì—… ë§Œë“¤ê¸°**
   - ì´ë¦„: "YOLOv11 Training"
   - íŠ¸ë¦¬ê±°: "ì»´í“¨í„°ë¥¼ ì‹œì‘í•  ë•Œ" ë˜ëŠ” "ë¡œê·¸ì˜¨í•  ë•Œ"
   - ì‘ì—…: "í”„ë¡œê·¸ë¨ ì‹œì‘"

3. **í”„ë¡œê·¸ë¨ ì„¤ì •**
   - í”„ë¡œê·¸ë¨/ìŠ¤í¬ë¦½íŠ¸: `python`
   - ì¸ìˆ˜ ì¶”ê°€:
     ```
     scripts/train.py --data "E:/namwon_ai/dataset_silage_bale_rgb/dataset.yaml" --model n --epochs 150 --batch 8 --imgsz 1024 --lr0 0.001 --optimizer AdamW --patience 100 --name silage_optimized
     ```
   - ì‹œì‘ ìœ„ì¹˜: `C:\Users\LX\dbwjdakrso4235-sys`

4. **ê³ ê¸‰ ì„¤ì •**
   - "í”„ë¡œê·¸ë¨ì´ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°": "ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ ì¤‘ì§€"
   - "ì‚¬ìš© ê¶Œí•œ": "ì‚¬ìš©ìì˜ ë¡œê·¸ì˜¨ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ì‹¤í–‰"

---

## ğŸ“Š ë°©ë²• ë¹„êµ

| ë°©ë²• | ë‚œì´ë„ | ì¬ì ‘ì† | ë¡œê·¸ | Windows | Linux/Mac | ì¶”ì²œë„ |
|------|--------|--------|------|---------|-----------|--------|
| **nohup** | â­ ì‰¬ì›€ | âŒ | âœ… | âœ… | âœ… | â­â­â­ |
| **screen** | â­â­ ë³´í†µ | âœ… | âœ… | âŒ | âœ… | â­â­â­ |
| **tmux** | â­â­â­ ì–´ë ¤ì›€ | âœ… | âœ… | âŒ | âœ… | â­â­ |
| **ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬** | â­â­ ë³´í†µ | âŒ | âš ï¸ | âœ… | âŒ | â­ |

### ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤

| ìƒí™© | ì¶”ì²œ ë°©ë²• |
|------|----------|
| **ë¹ ë¥´ê²Œ ì‹œì‘** | nohup |
| **SSH ì›ê²© ì‘ì—…** | screen ë˜ëŠ” tmux |
| **ì—¬ëŸ¬ ì‘ì—… ê´€ë¦¬** | tmux |
| **Windows ë¡œì»¬** | nohup (Git Bash) |
| **Windows ì„œë²„** | ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ |

---

## ğŸ› ï¸ ì‹¤ì „ ì˜ˆì œ

### ì˜ˆì œ 1: nohupìœ¼ë¡œ í•™ìŠµ ì‹œì‘í•˜ê³  ë¡œê·¸ í™•ì¸

```bash
# 1. í•™ìŠµ ì‹œì‘
nohup python scripts/train.py \
    --data "E:/namwon_ai/dataset_silage_bale_rgb/dataset.yaml" \
    --model n \
    --epochs 150 \
    --batch 8 \
    --imgsz 1024 \
    --lr0 0.001 \
    --optimizer AdamW \
    --patience 100 \
    --name silage_optimized \
    > logs/train_$(date +%Y%m%d_%H%M%S).log 2>&1 &

echo "í”„ë¡œì„¸ìŠ¤ ID: $!"

# 2. ì ì‹œ í›„ ì§„í–‰ ìƒí™© í™•ì¸
tail -n 50 logs/train_*.log

# 3. ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f logs/train_*.log

# 4. íŠ¹ì • ì¤„ë§Œ í•„í„°ë§ (ì˜ˆ: Epoch ì •ë³´)
tail -f logs/train_*.log | grep "Epoch"

# 5. mAP ë³€í™” ì¶”ì 
tail -f logs/train_*.log | grep "mAP50"
```

### ì˜ˆì œ 2: screenìœ¼ë¡œ í•™ìŠµ + TensorBoard ë™ì‹œ ì‹¤í–‰

```bash
# 1. screen ì„¸ì…˜ ìƒì„±
screen -S yolo_training

# 2. í•™ìŠµ ì‹œì‘ (ì²« ë²ˆì§¸ ì°½)
python scripts/train.py --data ... --name silage_optimized

# 3. ìƒˆ ì°½ ìƒì„± (Ctrl+A, C)
# 4. TensorBoard ì‹œì‘ (ë‘ ë²ˆì§¸ ì°½)
tensorboard --logdir runs/segment

# 5. ì°½ ì „í™˜ (Ctrl+A, N / Ctrl+A, P)
# 6. Detach (Ctrl+A, D)

# 7. ë‚˜ì¤‘ì— ë‹¤ì‹œ ì ‘ì†
screen -r yolo_training

# 8. ì°½ ì „í™˜í•˜ë©° í™•ì¸
# Ctrl+A, N (ë‹¤ìŒ ì°½)
# Ctrl+A, P (ì´ì „ ì°½)
```

### ì˜ˆì œ 3: tmuxë¡œ ë¶„í•  í™”ë©´ ëª¨ë‹ˆí„°ë§

```bash
# 1. tmux ì„¸ì…˜ ìƒì„±
tmux new -s yolo_training

# 2. í™”ë©´ ìˆ˜ì§ ë¶„í•  (Ctrl+B, ")
# 3. ìœ„ìª½ íŒ¨ë„: í•™ìŠµ ì‹¤í–‰
python scripts/train.py --data ... --name silage_optimized

# 4. ì•„ë˜ìª½ íŒ¨ë„ë¡œ ì´ë™ (Ctrl+B, â†“)
# 5. ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
watch -n 1 'tail -20 runs/segment/silage_optimized/results.csv'

# 6. ë‹¤ì‹œ ë¶„í•  (Ctrl+B, %)
# 7. GPU ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
watch -n 1 nvidia-smi

# 8. Detach (Ctrl+B, D)
```

---

## ğŸ” ë¬¸ì œ í•´ê²°

### í•™ìŠµì´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸

```bash
# ë°©ë²• 1: ps ëª…ë ¹ì–´
ps aux | grep train.py

# ë°©ë²• 2: pgrep
pgrep -f train.py

# ë°©ë²• 3: GPU ì‚¬ìš© í™•ì¸
nvidia-smi
```

### ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨

```bash
# ë°©ë²• 1: kill (í”„ë¡œì„¸ìŠ¤ ID í•„ìš”)
kill 12345

# ë°©ë²• 2: pkill (ì´ë¦„ìœ¼ë¡œ ì°¾ê¸°)
pkill -f train.py

# ë°©ë²• 3: killall (ê°™ì€ ì´ë¦„ ëª¨ë‘ ì¢…ë£Œ)
killall python

# ë°©ë²• 4: ê°•ì œ ì¢…ë£Œ (ì£¼ì˜!)
kill -9 12345
```

### ë¡œê·¸ íŒŒì¼ì´ ë„ˆë¬´ í´ ë•Œ

```bash
# ìµœê·¼ 100ì¤„ë§Œ í™•ì¸
tail -n 100 logs/train.log

# íŠ¹ì • íŒ¨í„´ë§Œ ì¶”ì¶œ
grep "Epoch" logs/train.log > logs/epochs.log

# ë¡œê·¸ í¬ê¸° í™•ì¸
du -h logs/train.log

# ë¡œê·¸ ì••ì¶• (ì§„í–‰ ì¤‘ì´ ì•„ë‹ ë•Œ)
gzip logs/train.log
```

### nohup.out íŒŒì¼ ìë™ ìƒì„± ë°©ì§€

```bash
# nohup ê¸°ë³¸ ë™ì‘: nohup.out ìƒì„±
# í•´ê²°: ëª…ì‹œì ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
nohup python script.py > my.log 2>&1 &
```

---

## ğŸ“ ëª¨ë²” ì‚¬ë¡€

### 1. í•­ìƒ ë¡œê·¸ ì €ì¥
```bash
# âŒ ë‚˜ìœ ì˜ˆ
nohup python script.py &

# âœ… ì¢‹ì€ ì˜ˆ
nohup python script.py > logs/train_$(date +%Y%m%d_%H%M%S).log 2>&1 &
```

### 2. í”„ë¡œì„¸ìŠ¤ ID ì €ì¥
```bash
nohup python script.py > logs/train.log 2>&1 &
echo $! > logs/train.pid

# ë‚˜ì¤‘ì— ì¤‘ë‹¨
kill $(cat logs/train.pid)
```

### 3. ì‹¤í–‰ ì „ í…ŒìŠ¤íŠ¸
```bash
# dry-run ëª¨ë“œë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸ (1 epochë§Œ)
python scripts/train.py --data ... --epochs 1

# ë¬¸ì œ ì—†ìœ¼ë©´ ì „ì²´ ì‹¤í–‰
nohup python scripts/train.py --data ... --epochs 150 > logs/train.log 2>&1 &
```

### 4. ë””ìŠ¤í¬ ê³µê°„ í™•ì¸
```bash
# ì‚¬ìš© ê°€ëŠ¥í•œ ê³µê°„ í™•ì¸
df -h

# í•™ìŠµ ê²°ê³¼ í´ë” í¬ê¸°
du -sh runs/segment/silage_optimized
```

### 5. ì •ê¸°ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§
```bash
# 1ì‹œê°„ë§ˆë‹¤ ë¡œê·¸ í™•ì¸ (cron ì‚¬ìš©)
0 * * * * tail -50 ~/dbwjdakrso4235-sys/logs/train.log | mail -s "Training Log" your@email.com
```

---

## ğŸ¯ ë¹ ë¥¸ ì°¸ì¡°

### Windows Git Bash (ì¶”ì²œ)
```bash
bash scripts/run_training_persistent.sh
tail -f logs/train_*.log
```

### Windows CMD
```cmd
scripts\run_training_persistent.bat
type logs\train_*.log
```

### Linux/Mac (nohup)
```bash
nohup python scripts/train.py --data ... > logs/train.log 2>&1 &
tail -f logs/train.log
```

### Linux/Mac (screen)
```bash
screen -S training
python scripts/train.py --data ...
# Ctrl+A, D
screen -r training
```

### Linux/Mac (tmux)
```bash
tmux new -s training
python scripts/train.py --data ...
# Ctrl+B, D
tmux attach -t training
```

---

## ğŸ“š ì¶”ê°€ ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [GNU screen manual](https://www.gnu.org/software/screen/manual/)
- [tmux documentation](https://github.com/tmux/tmux/wiki)
- [nohup man page](https://man7.org/linux/man-pages/man1/nohup.1.html)

### ìœ ìš©í•œ ë§í¬
- [Screen Cheat Sheet](https://gist.github.com/jctosta/af918e1618682638aa82)
- [Tmux Cheat Sheet](https://tmuxcheatsheet.com/)
- [Background Processes in Linux](https://www.digitalocean.com/community/tutorials/how-to-use-bash-s-job-control-to-manage-foreground-and-background-processes)

---

**ì‘ì„±ì**: Claude Sonnet 4.5
**ìµœì¢… ìˆ˜ì •**: 2025-10-23
